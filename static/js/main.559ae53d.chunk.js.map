{"version":3,"sources":["store/actions/auth.js","store/reducers/auth.js","shared/page.js","api/auth.js","shared/theme.js","styled-components/form-components.js","pages/register.js","pages/login.js","components/todoItem.js","api/todos.js","components/floatingButton.js","pages/todos.js","App.js","index.js"],"names":["actionTypes","SET_LOGIN","initialState","isLoggedIn","localStorage","getItem","authToken","Actions","loginStatus","token","type","ActionTypes","login","authStore","createStore","state","action","setItem","mapStateToProps","mapDispatchToProps","dispatch","onChangeLogin","Div","styled","div","Page","props","children","baseUrl","process","register","username","password","a","url","axios","post","response","data","SubmitButton","button","size","width","Theme","margin","BasicLabel","label","BasicInput","input","FieldSet","Form","form","height","RegisterContent","RegisterPage","useState","setUsername","setPassword","confirmPassword","setConfirmPassword","onSubmit","e","preventDefault","id","console","log","htmlFor","onChange","usernameInput","target","value","placeholder","autoComplete","name","passwordInput","confirmedPassword","onClick","LoginContent","connect","withRouter","history","push","TodoDiv","TodoInfo","TodoP","TodoDelete","TodoItem","editMode","setEditMode","switchModes","prevEditMode","text","onTextChange","onKeyDown","event","key","onTextUpdate","checked","onCheckedChange","onDelete","removeTodo","todoId","updateTodo","properties","Error","patch","getTodos","Button","FloatingButton","todos","setTodos","useEffect","then","newTodos","renderToDo","index","filteredTodo","filter","todo","onCheckChanged","newText","findIndex","todoIndex","_","toDo","createToDo","length","map","item","App","Router","HashRouter","className","store","basename","path","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.559ae53d.chunk.js","sourcesContent":["const actionTypes = {\r\n  SET_LOGIN: 'SET_LOGIN',\r\n}\r\n\r\nexport default actionTypes;","import ActionTypes from \"../actions/auth\";\r\nimport { createStore } from \"redux\";\r\n\r\nconst initialState = {\r\n  isLoggedIn: !!localStorage.getItem(\"AUTH\"),\r\n  authToken: localStorage.getItem(\"AUTH\"),\r\n};\r\n\r\nconst Actions = {\r\n  setLogin: (loginStatus, token) => {\r\n    return {\r\n      type: ActionTypes.SET_LOGIN,\r\n      login: loginStatus,\r\n      token: token,\r\n    };\r\n  },\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ActionTypes.SET_LOGIN:\r\n      localStorage.setItem(\"AUTH\", action.token);\r\n      return { ...state, isLoggedIn: action.login, authToken: action.token };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst authStore = createStore(authReducer);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoggedIn: state.isLoggedIn,\r\n    authToken: state.authToken,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onChangeLogin: (isLoggedIn, authToken = null) => {\r\n      dispatch(Actions.setLogin(isLoggedIn, authToken));\r\n    },\r\n  };\r\n};\r\n\r\nexport { authStore, mapStateToProps, mapDispatchToProps };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Div = styled.div`\r\n  background-color: whitesmoke;\r\n  height: 100vh;\r\n`;\r\nconst Page = (props) => {\r\n  return <Div>\r\n    {props.children}\r\n  </Div>\r\n}\r\n\r\nexport default Page;","import axios from \"axios\";\r\nconst baseUrl = process.env.REACT_APP_SERVER;\r\n\r\nif (baseUrl === undefined) {\r\n  throw new Error('No server was set in the REACT_APP_SERVER env.');\r\n}\r\n\r\nconst register = async (username, password) => {\r\n  const url = `${baseUrl}/auth/register`;\r\n  const response = await axios.post(url, {\r\n    username,\r\n    password\r\n  });\r\n\r\n  return response.data;\r\n}\r\n\r\nconst login = async(username, password) => {\r\n  const url = `${baseUrl}/auth/login`;\r\n  const response = await axios.post(url, {\r\n    username,\r\n    password\r\n  });\r\n\r\n  return response.data;\r\n}\r\n\r\nexport {\r\n  register,\r\n  login\r\n}","export default {\r\n  primaryColor: '#4B88A2',\r\n  secondaryColor: '#BB0A21',\r\n  darkColor: '#252627',\r\n  whiteText: '#FFF9FB',\r\n}","import styled from \"styled-components\";\r\nimport Theme from \"../shared/theme\";\r\n\r\nconst SubmitButton = styled.button`\r\n  padding: ${props => props.size || 12}px;\r\n  width: ${props => props.width || 'auto'};\r\n  display: block;\r\n  font-size: 1.25rem;\r\n  background-color: ${Theme.primaryColor};\r\n  color: ${Theme.whiteText};\r\n  border: 0;\r\n  margin: ${props => props.margin!== null ? props.margin:0};\r\n  margin-top: auto;\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: ${Theme.whiteText};\r\n    color: ${Theme.primaryColor};\r\n  }\r\n`;\r\n\r\nconst BasicLabel = styled.label`\r\n  font-family: 'arial';\r\n  margin-left: ${props => props.margin!== null ? props.margin:0}\r\n`;\r\n\r\nconst BasicInput = styled.input`\r\n  padding: 12px;\r\n  display: block;\r\n  font-size: 1.25rem;\r\n  background-color: ${Theme.whiteText};\r\n  border-radius: 3px;\r\n  margin: ${props => props.margin!== null ? props.margin:0};\r\n\r\n  &:hover {\r\n    background-color: ${Theme.whiteText};\r\n    color: ${Theme.darkColor};\r\n  }\r\n`;\r\n\r\nconst FieldSet = styled.div`\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  border: 1px solid black;\r\n  border-radius: 3px;\r\n  height: ${(props) => props.height || \"auto\"};\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n\r\n  &:first-child {\r\n    padding-top: 12px;\r\n  }\r\n`;\r\n\r\nexport {\r\n  SubmitButton,\r\n  BasicInput,\r\n  BasicLabel,\r\n  FieldSet,\r\n  Form,\r\n}","import React, { useState } from \"react\";\r\nimport Page from \"../shared/page\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { register } from \"../api/auth\";\r\n\r\nimport {\r\n  Form,\r\n  FieldSet,\r\n  BasicLabel,\r\n  BasicInput,\r\n  SubmitButton,\r\n} from \"../styled-components/form-components\";\r\n\r\nconst RegisterContent = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst RegisterPage = (props) => {\r\n  // TODO Replace useState for text, for form management.\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password === confirmPassword) {\r\n      const id = await register(username, password);\r\n      console.log(id);\r\n    }\r\n\r\n  };\r\n\r\n  const onUsernameChange = (usernameInput) => {\r\n    setUsername(usernameInput.target.value);\r\n  };\r\n\r\n  const onPasswordChange = (passwordInput) => {\r\n    setPassword(passwordInput.target.value);\r\n  };\r\n\r\n  const onConfirmPasswordChange = (confirmedPassword) => {\r\n    setConfirmPassword(confirmedPassword.target.value);\r\n  };\r\n\r\n  return (\r\n    <Page>\r\n      <RegisterContent>\r\n        <Form height=\"400px\">\r\n          <FieldSet>\r\n            <BasicLabel htmlFor=\"user\" margin=\"12px\">\r\n              User\r\n            </BasicLabel>\r\n            <BasicInput\r\n              onChange={onUsernameChange}\r\n              value={username}\r\n              placeholder=\"User\"\r\n              autoComplete=\"username\"\r\n              margin=\"12px\"\r\n              name=\"user\"\r\n            />\r\n          </FieldSet>\r\n          <FieldSet>\r\n            <BasicLabel htmlFor=\"password\" margin=\"12px\">\r\n              Password\r\n            </BasicLabel>\r\n            <BasicInput\r\n              onChange={onPasswordChange}\r\n              value={password}\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              margin=\"12px\"\r\n              name=\"password\"\r\n            />\r\n          </FieldSet>\r\n          <FieldSet>\r\n            <BasicLabel htmlFor=\"confirm-password\" margin=\"12px\">\r\n              Confirm password\r\n            </BasicLabel>\r\n            <BasicInput\r\n              onChange={onConfirmPasswordChange}\r\n              value={confirmPassword}\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              margin=\"12px\"\r\n              name=\"confirm-password\"\r\n            />\r\n          </FieldSet>\r\n          <SubmitButton width=\"100%\" onClick={onSubmit}>\r\n            Register\r\n          </SubmitButton>\r\n        </Form>\r\n      </RegisterContent>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React, { useState } from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nimport { mapDispatchToProps, mapStateToProps } from \"../store/reducers/auth\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Page from \"../shared/page\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { login } from \"../api/auth\";\r\n\r\nimport {\r\n  Form,\r\n  FieldSet,\r\n  BasicLabel,\r\n  BasicInput,\r\n  SubmitButton,\r\n} from \"../styled-components/form-components\";\r\n\r\nconst LoginContent = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nconst LoginPage = (props) => {\r\n  // TODO Replace useState for text, for form management.\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const onUsernameChange = (usernameInput) => {\r\n    setUsername(usernameInput.target.value);\r\n  };\r\n\r\n  const onPasswordChange = (passwordInput) => {\r\n    setPassword(passwordInput.target.value);\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const response = await login(username, password);\r\n\r\n    if (response.token) {\r\n      props.onChangeLogin(true ,response.token);\r\n      props.history.push('/todos');\r\n    }\r\n  };\r\n\r\n  return (\r\n  <Page>\r\n      <LoginContent>\r\n        <Form height=\"304px\">\r\n          <FieldSet>\r\n            <BasicLabel htmlFor=\"user\" margin=\"12px\">\r\n              User\r\n            </BasicLabel>\r\n            <BasicInput\r\n              value={username}\r\n              onChange={onUsernameChange}\r\n              placeholder=\"User\"\r\n              autoComplete=\"username\"\r\n              margin=\"12px\"\r\n              name=\"user\"\r\n            />\r\n          </FieldSet>\r\n          <FieldSet>\r\n            <BasicLabel htmlFor=\"password\" margin=\"12px\">\r\n              Password\r\n            </BasicLabel>\r\n            <BasicInput\r\n              value={password}\r\n              onChange={onPasswordChange}\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              margin=\"12px\"\r\n              name=\"password\"\r\n            />\r\n          </FieldSet>\r\n          <SubmitButton width=\"100%\" onClick={onSubmit}>\r\n            Login\r\n          </SubmitButton>\r\n        </Form>\r\n      </LoginContent>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LoginPage));\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Theme from \"../shared/theme\";\r\n\r\nconst TodoDiv = styled.div`\r\n  border-bottom: 1px solid black;\r\n  padding: 24px;\r\n  padding-bottom: 6px;\r\n`;\r\n\r\nconst TodoInfo = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst TodoP = styled.div`\r\n  font-family: \"Arial\";\r\n`;\r\n\r\nconst TodoDelete = styled.button`\r\n  background-color: ${Theme.secondaryColor};\r\n  border: 0px;\r\n  border-radius: 4px;\r\n  margin-top: 12px;\r\n  width: 32px;\r\n  height: 32px;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst TodoItem = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const switchModes = () => {\r\n    setEditMode((prevEditMode) => !prevEditMode);\r\n  };\r\n\r\n  return (\r\n    <TodoDiv>\r\n      <TodoInfo>\r\n        {!editMode ? (\r\n          <TodoP onClick={switchModes}>{props.text}</TodoP>\r\n        ) : (\r\n          <input\r\n            type=\"text\"\r\n            value={props.text}\r\n            onChange={props.onTextChange}\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                props.onTextUpdate(event);\r\n                switchModes();\r\n              }\r\n            }}\r\n          />\r\n        )}\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={props.checked}\r\n          onChange={props.onCheckedChange}\r\n        />\r\n      </TodoInfo>\r\n      <TodoDelete onClick={props.onDelete} />\r\n    </TodoDiv>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import axios from \"axios\";\r\nconst baseUrl = process.env.REACT_APP_SERVER;\r\n\r\nif (baseUrl === undefined) {\r\n  throw new Error(\"No server was set in the REACT_APP_SERVER env.\");\r\n}\r\n\r\nconst addTodo = async (token, value) => {\r\n  const url = `${baseUrl}/todos/add-todo`;\r\n  const response = await axios.post(url, {\r\n    token,\r\n    value,\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\nconst removeTodo = async (token, todoId) => {\r\n  const url = `${baseUrl}/todos/remove-todo`;\r\n  const response = await axios.post(url, {\r\n    token,\r\n    todoId,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst updateTodo = async (token, todoId, properties) => {\r\n  const url = `${baseUrl}/todos/update-todo`;\r\n\r\n  if (properties[\"checked\"] === null || properties[\"text\"] === null) {\r\n    throw new Error(\"No properties was provided on the ToDo.\");\r\n  }\r\n\r\n  const response = await axios.patch(url, {\r\n    token,\r\n    todoId,\r\n    properties,\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\nconst getTodos = async (token) => {\r\n  const url = `${baseUrl}/todos/get-todos`;\r\n  const response = await axios.post(url, {\r\n    token,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport { addTodo, removeTodo, updateTodo, getTodos };\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Theme from \"../shared/theme\";\r\n\r\nconst Button = styled.button`\r\n  position: fixed;\r\n  bottom: 32px;\r\n  right: 32px;\r\n  width: 64px;\r\n  height: 64px;\r\n  border-radius: 50%;\r\n  border: 1px solid ${Theme.whiteText};\r\n  color: ${Theme.whiteText};\r\n  font-size: 1.25rem;\r\n  background-color: ${Theme.primaryColor};\r\n  outline: none;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst FloatingButton = (props) => {\r\n  return <Button onClick={props.onClick}>\r\n    {props.text}\r\n  </Button>\r\n}\r\n\r\nexport default FloatingButton;","import React, { useEffect, useState } from \"react\";\r\nimport Page from \"../shared/page\";\r\nimport TodoItem from \"../components/todoItem\";\r\n\r\nimport { mapDispatchToProps, mapStateToProps } from \"../store/reducers/auth\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getTodos, updateTodo, removeTodo } from \"../api/todos\";\r\n\r\nimport FloatingButton from \"../components/floatingButton\";\r\n\r\nconst TodosPage = (props) => {\r\n  const [todos, setTodos] = useState([\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    getTodos(props.authToken).then(newTodos => {\r\n      setTodos(newTodos.todos);\r\n    })\r\n  }, [props.authToken]);\r\n\r\n  const onCheckChanged = (event, index) => {\r\n    const newTodos = [...todos];\r\n    const filteredTodo = newTodos.filter(todo => todo.id === index)[0];\r\n    filteredTodo.checked = event.target.checked;\r\n    updateTodo(props.authToken, index, {\r\n      checked: filteredTodo.checked,\r\n      text: filteredTodo.text,\r\n    })\r\n    setTodos(newTodos);\r\n  };\r\n\r\n  const onDelete = (index) => {\r\n    const todoIndex = todos.findIndex(todo => todo.id === index);\r\n    const newTodos = todos.filter((_, index) => index !== todoIndex);\r\n\r\n    removeTodo(props.authToken, todos[todoIndex].id);\r\n    setTodos(newTodos);\r\n  };\r\n\r\n  const onTextChange = (event, index) => {\r\n    const newText = event.target.value;\r\n    const newTodos = [...todos];\r\n    const todoIndex = todos.findIndex(todo => todo.id === index);\r\n    newTodos[todoIndex].text = newText;\r\n    setTodos(newTodos);\r\n  };\r\n\r\n  const onTextUpdate = (event, index) => {\r\n    const newTodos = [...todos];\r\n    const filteredTodo = newTodos.filter(todo => todo.id === index)[0];\r\n    filteredTodo.text = event.target.value;\r\n    updateTodo(props.authToken, index, {\r\n      checked: filteredTodo.checked,\r\n      text: filteredTodo.text,\r\n    })\r\n    setTodos(newTodos);\r\n  }\r\n\r\n  const createToDo = (text, checked) => {\r\n    const toDo = {\r\n      value: text,\r\n      checked: checked,\r\n    };\r\n\r\n    const newTodos = [...todos];\r\n    newTodos.push(toDo);\r\n    setTodos(newTodos);\r\n  };\r\n\r\n  const renderToDo = (index, text, checked) => {\r\n    return (\r\n      <TodoItem\r\n        text={text}\r\n        key={index}\r\n        checked={checked}\r\n        onCheckedChange={(event) => onCheckChanged(event, index)}\r\n        onTextChange={(event) => onTextChange(event, index)}\r\n        onTextUpdate={(event) => onTextUpdate(event, index)}\r\n        onDelete={() => onDelete(index)}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Page>\r\n      <FloatingButton\r\n        text=\"+\"\r\n        onClick={() => createToDo(\"New Reminder\", false)}\r\n      />\r\n      {todos.length !== 0 ? (\r\n        todos.map((item) => renderToDo(item.id, item.text, item.checked))\r\n      ) : (\r\n        <p>Add some todos</p>\r\n      )}\r\n    </Page>\r\n  );\r\n};\r\n\r\n// export default TodosPage;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TodosPage);","import React from \"react\";\nimport {\n  HashRouter,\n  BrowserRouter,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { authStore } from \"./store/reducers/auth\";\n\n// Page-Components.\nimport RegisterPage from \"./pages/register\";\nimport LoginPage from \"./pages/login\";\nimport TodoPage from \"./pages/todos\";\n\nfunction App() {\n\n  const Router = +process.env.REACT_APP_ASFILE === 1 ? HashRouter:BrowserRouter;\n\n  return (\n    <div className=\"App\">\n      <Provider store={authStore}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <Switch>\n            <Route path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Route path=\"/register\">\n              <RegisterPage />\n            </Route>\n            <Route path=\"/todos\">\n              <TodoPage />\n            </Route>\n            <Redirect to=\"/login\" />\n          </Switch>\n        </Router>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Global styles.\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}